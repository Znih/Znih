name: Lösche Dateien oder Ordner

on:
  workflow_dispatch: # Ermöglicht manuelles Triggern des Workflows
#  schedule:          # Optional: Zeitplan, z. B. täglich um Mitternacht
#    - cron: "0 0 * * *"

jobs:
  delete_files:
    runs-on: ubuntu-latest

    steps:
    # Checkout des Repositorys
    - name: Check out the repository
      uses: actions/checkout@v3

  # Lösche die angegebenen Dateien nur, wenn sie existieren
    - name: Lösche die angegebenen Dateien
      run: |
        if [ -f "package.json" ]; then
          rm -f package.json
          echo "Datei 'package.json' wurde gelöscht."
        else
          echo "Datei 'package.json' nicht gefunden. Überspringe."
        fi


        # Beispiel für das Löschen eines Ordners
        if [ -d "output" ]; then
          rm -rf output 
          echo "Ordner 'output' wurde gelöscht."
        else
          echo "Ordner 'output' nicht gefunden. Überspringe."
        fi


    # Änderungen committen und pushen
    - name: Änderungen committen und pushen
      run: |
        git config user.name "github-actions[bot]"
        git config user.email "github-actions[bot]@users.noreply.github.com"
        git add .
        git commit -m "Automatisch gelöschte Datei/Ordner"
        git push